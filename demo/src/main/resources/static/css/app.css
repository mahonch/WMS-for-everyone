:root {
    --bg:#0f172a;
    --panel:#111827;
    --text:#e5e7eb;
    --muted:#94a3b8;
    --accent:#22c55e;
    --danger:#ef4444;
    --info:#3b82f6;
}

* { box-sizing:border-box; }

body {
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial;
    background:var(--bg);
    color:var(--text);
}

a { color:inherit; text-decoration:none; }
.muted { color:var(--muted); }

/* ---------------------------------------------------------
   BUTTONS
--------------------------------------------------------- */
.btn {
    background:var(--accent);
    color:#032;
    border:none;
    padding:.6rem 1rem;
    border-radius:.6rem;
    cursor:pointer;
    display:inline-block;
}
.btn:hover { filter:brightness(1.05); }
.btn:disabled { opacity:.6; cursor:not-allowed; }

.btn-danger { background:var(--danger); color:#fff; }
.btn-secondary { background:#475569; color:#dce0e8; }
.btn-success { background:#16a34a; color:#062; }

/* ---------------------------------------------------------
   LAYOUT
--------------------------------------------------------- */
.topbar {
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:.8rem 1rem;
    background:var(--panel);
    border-bottom:1px solid #1f2937;
    position:sticky;
    top:0;
    z-index:10;
}

.brand { font-weight:700; letter-spacing:.5px; }

.nav a {
    margin:0 .5rem;
    padding:.4rem .6rem;
    border-radius:.4rem;
    color:var(--muted);
}
.nav a.active,
.nav a:hover {
    background:#1f2937;
    color:var(--text);
}

.container {
    max-width:1100px;
    margin:1rem auto;
    padding:0 1rem;
}

.cards { display:grid; grid-template-columns:repeat(3,1fr); gap:1rem; }
.card {
    padding:1rem;
    background:var(--panel);
    border:1px solid #1f2937;
    border-radius:.8rem;
}

.metric { font-size:2rem; font-weight:700; margin-top:.5rem; }

.grid {
    display:grid;
    grid-template-columns:2fr 1fr;
    gap:1rem;
    margin-top:1rem;
}

.panel {
    padding:1rem;
    background:var(--panel);
    border:1px solid #1f2937;
    border-radius:.8rem;
}

.actions .btn { margin:.25rem .25rem .25rem 0; }

@media (max-width:900px){
    .cards{grid-template-columns:1fr;}
    .grid{grid-template-columns:1fr;}
}

/* ---------------------------------------------------------
   LOGIN
--------------------------------------------------------- */
.centered {
    min-height:100vh;
    display:grid;
    place-items:center;
    padding:1rem;
}
.login-card {
    width:100%;
    max-width:360px;
    background:var(--panel);
    border:1px solid #1f2937;
    border-radius:1rem;
    padding:1.25rem;
}
label { display:block; font-size:.9rem; margin:.6rem 0 .2rem; color:var(--muted); }
input {
    width:100%;
    padding:.6rem .7rem;
    border-radius:.6rem;
    border:1px solid #263241;
    background:#0b1320;
    color:var(--text);
    outline:none;
}
input:focus { border-color:#334155; }

/* ---------------------------------------------------------
   ALERTS
--------------------------------------------------------- */
.hidden { display:none !important; }

.alert {
    margin-top:.7rem;
    padding:.6rem .7rem;
    border-radius:.6rem;
    font-size:.9rem;
    line-height:1.2rem;
}
.alert.error  { background:#2a1111; border:1px solid #7f1d1d; color:#fecaca; }
.alert.info   { background:#0e1d33; border:1px solid #1d4ed8; color:#bfdbfe; }

/* ---------------------------------------------------------
   UNIVERSAL MODAL (Modal.open from modal.js)
--------------------------------------------------------- */

.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.55);
    backdrop-filter: blur(3px);
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding-top: 4rem;
    z-index: 3000;
    opacity: 1;
    visibility: visible;
    transition: opacity .25s ease, visibility .25s ease;
}

.modal-overlay.hidden {
    opacity: 0;
    visibility: hidden;
}

.modal-window {
    background: var(--panel);
    border: 1px solid #1f2937;
    border-radius: .8rem;
    width: 420px;
    max-width: 95%;
    padding: 1.4rem;
    box-shadow: 0 10px 40px rgba(0,0,0,0.45);
    animation: modalIn .25s ease;
}

@keyframes modalIn {
    from { opacity:0; transform: translateY(-12px); }
    to   { opacity:1; transform: translateY(0); }
}

.modal-window h3 {
    margin:0 0 .9rem;
    font-size:1.2rem;
}

.modal-field { margin-bottom:.9rem; }
.modal-field label {
    display:block;
    color:var(--muted);
    margin-bottom:.25rem;
    font-size:.85rem;
}

.modal-field input,
.modal-field select {
    width:100%;
    padding:.6rem .7rem;
    border-radius:.6rem;
    border:1px solid #334155;
    background:#0b1320;
    color:var(--text);
}
.modal-field input:focus,
.modal-field select:focus {
    border-color:var(--info);
}

.modal-actions {
    display:flex;
    justify-content:flex-end;
    gap:.6rem;
    margin-top:1rem;
}

/* ---------------------------------------------------------
   DETAIL PANEL AS MODAL (detailOverlay + detailPanel)
--------------------------------------------------------- */

#detailOverlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.55);
    backdrop-filter: blur(3px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2500;
}

#detailOverlay.hidden {
    display:none !important;
}

#detailPanel.modal-panel {
    width: 90%;
    max-width: 900px;
    max-height: 90vh;
    overflow-y: auto;
    background: var(--panel);
    border: 1px solid #1f2937;
    border-radius:.8rem;
    padding: 1rem 1.2rem;
    box-shadow: 0 10px 35px rgba(0,0,0,0.45);
    animation: modalIn .25s ease;
}

.grid2 {
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:.5rem 1rem;
    margin-bottom:1rem;
}

@media (max-width:600px){
    .grid2 { grid-template-columns:1fr; }
}
